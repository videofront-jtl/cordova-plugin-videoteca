"use strict";var exec=require("cordova/exec");var CordovaVideoteca={url_videoteca:"{URL_VIDEOTECA}",_vfplayer:null,_playerElement:null,_backbuttonEvent:null,offlineList:function(){vfplayer.offlineList()},offlineCount:function(){vfplayer.offlineCount()},offlineDownload:function(a,b){vfplayer.offlineDownload(a,b)},offlineDelete:function(a){vfplayer.offlineDelete(a)},playVideo:function(b,a){a=a||{};a.autoplay=a.autoplay||true;a.aluno=a.aluno||{};if(cordova.platformId=="android"||cordova.platformId=="browser"){CordovaVideoteca._playerElement=CordovaVideoteca._createElement("div",document.body,"vf-player-cordova");CordovaVideoteca._playerElement.classList.add("videofront-fullscreen");CordovaVideoteca._playerElement.classList.add("videofront-nofullscreen-button");CordovaVideoteca._vfplayer=vfplayer("vf-player-cordova",{identifier:b,autoplay:a.autoplay,speeds:[0.75,1,1.5,2],aluno:a.aluno});document.addEventListener("backbutton",CordovaVideoteca.stopVideo,true);CordovaVideoteca.fullscreenOn();if(cordova.platformId=="android"){exec(null,null,"Videoteca","fullscreenOn")}}else{if(cordova.platformId=="ios"){a.orientation=a.orientation||"landscape";a.successCallback=a.successCallback||null;a.errorCallback=a.errorCallback||null;var c=vfplayer(null,{identifier:b,aluno:a.aluno});c.loadSource(function(d){exec(a.successCallback,a.errorCallback,"Videoteca","playVideo",[d,a])})}else{alert("Não há suporte para "+cordova.platformId)}}},stopVideo:function(a){if(cordova.platformId=="android"||cordova.platformId=="browser"){if(a!=null){a.stopImmediatePropagation()}document.removeEventListener("backbutton",CordovaVideoteca.stopVideo);CordovaVideoteca.fullscreenOff();document.body.removeChild(CordovaVideoteca._playerElement);CordovaVideoteca._vfplayer.pause();CordovaVideoteca._vfplayer=null;if(cordova.platformId=="android"){exec(null,null,"Videoteca","fullscreenOff")}}},fullscreenOn:function(a,b){if(cordova.platformId=="android"){exec(a,b,"Videoteca","fullscreenOn",[])}},fullscreenOff:function(a,b){if(cordova.platformId=="android"){exec(a,b,"Videoteca","fullscreenOff",[])}},hasStarted:false,init:function(){if(CordovaVideoteca.hasStarted){return}if(CordovaVideoteca.url_videoteca.indexOf("https")===-1){alert("Parece que não configurou corretamente o pugin cordova-plugin-videoteca! \nEntre em contato com suporte!")}var d=CordovaVideoteca.url_videoteca+"api/Videos/videoapp.js";var a=document.createElement("script");a.async=1;a.src=d;a.onerror=CordovaVideoteca._loadError;document.head.appendChild(a);var c=CordovaVideoteca.url_videoteca+"api/Videos/videoapp.css";var b=document.createElement("link");b.async=1;b.rel="stylesheet";b.href=c;b.onerror=CordovaVideoteca._loadError;document.head.appendChild(b);CordovaVideoteca.hasStarted=true},_loadError:function(){CordovaVideoteca.hasStarted=false},_createElement:function(d,c,b){var a=document.createElement(d);if(b){a.id=b}c.appendChild(a);return a}};module.exports=CordovaVideoteca;CordovaVideoteca.init();